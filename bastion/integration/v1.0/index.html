<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Faker/3.1.0/faker.js"></script>
  </head>
  <body>
<!-- Begin Talkable integration code -->
<script>
  var orderDate = new Date ($.now());
  var _talkableq = _talkableq || [];
  _talkableq.push(['init', {
    site_id: 'auto-site-campaigns-integration' // REQUIRED - Talkable Site ID
   , server: '//bastion.talkable.com'  }]);
  
  var _talkable_order_items = [];
  _talkable_order_items.push({
    product_id: 'sku1', /* Item Product ID */
    price: '199.00', /* Item Unit Price */
    quantity: '1', /* Item Quantity */
    title: 'Awesome Product', /* Name of product */
    url: 'http://www.store.com/product1', /* URL for product */
    image_url: 'http://www.store.com/product1/image.jpg' /* URL for product image */
  });
  _talkable_order_items.push({
    product_id: 'sku2', /* Item Product ID */
    price: '6.00', /* Item Unit Price */
    quantity: '2', /* Item Quantity */
    title: 'Amazing Product', /* Name of product */
    url: 'http://www.store.com/product2', /* URL for product */
    image_url: 'http://www.store.com/product2/image.jpg' /* URL for product image */
  });
  var _talkable_order_details = {
    order_number: faker.random.number(10000000000000), // REQUIRED - Order number
    order_date: '' + orderDate, // REQUIRED - Order Date and Time (ISO 8601 formatted datetime)
    email: faker.internet.email(), // REQUIRED - Customer Email Address
    subtotal: '23.97', // REQUIRED - Purchase Subtotal
    coupon_code: 'SAVE20', // REQUIRED - Coupon code used at checkout, multiple coupons allowed as JS array: ['SAVE20', 'FREE-SHIPPING']. Pass null if there is no coupon code.
    campaign_tags: ['integration'], // REQUIRED - Tag(s) of a campaign that should be shown on a screen as a result of successfully registered purchase
    items: _talkable_order_items, // OPTIONAL - Pass an array with produc items that were included in a shopping cart at checkout
    first_name: 'Name', // OPTIONAL - Customer First Name
    last_name: 'Surname', // OPTIONAL - Customer Last Name
    traffic_source: 'Post-checkout' // OPTIONAL - indicate person traffic source. Can be used as segmentation parameter in reporting.
  };
  _talkableq.push(['register_purchase', _talkable_order_details]); // Pass Purchase to Talkable
</script>
<script async src="//d2jjzw81hqbuqv.cloudfront.net/integration/talkable-1.0.min.js" type="text/javascript"></script>
    <!--<script async src="//raw.githubusercontent.com/talkable/talkable-integration/master/dist/curebit-0.6.js?token=ADz1EWGfrG4Om_xaSAVtx8gXmcW-Z6Jzks5b7YmJwA%3D%3D" type="text/javascript"></script>-->
    <pre> Site slug: </pre>
    <pre id="site.slug">auto-site-campaigns-integration</pre>
  </body>
</html>
